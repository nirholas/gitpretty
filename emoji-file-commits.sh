#!/bin/bash

# emoji-file-commits.sh - Add unique emoji commits that show in GitHub file browser
# Each file gets a tiny modification (trailing newline) and committed with unique emoji
# This makes emojis visible in GitHub's file listing view

set -e

REPO_PATH="$1"

if [ -z "$REPO_PATH" ]; then
    echo "Usage: $0 <repo-path>"
    echo ""
    echo "This script commits each file with a unique emoji that shows"
    echo "in GitHub's file browser next to each filename."
    echo ""
    echo "Note: Adds a trailing newline to each file to register a change."
    exit 1
fi

cd "$REPO_PATH"
REPO_NAME=$(basename "$(pwd)")
echo "Working in: $(pwd)"
echo "Repository: $REPO_NAME"
echo ""

# STRICTLY builder/tech/geometric emojis - NO faces, NO rainbows
EMOJIS=(
    "â­" "ðŸŒŸ" "âœ¨" "ðŸ’«" "ðŸŒ " "ðŸ”†" "ðŸ”…"
    "ðŸš€" "ðŸ› ï¸" "âš™ï¸" "ðŸ”§" "ðŸ”©" "â›ï¸" "ðŸ”¨" "ðŸª›" "ðŸªš" "ðŸ”—"
    "â›“ï¸" "ðŸ§°" "ðŸ”Œ" "ðŸ’¡" "ðŸ”‹" "ðŸ’»" "ðŸ–¥ï¸" "âŒ¨ï¸" "ðŸ–±ï¸" "ðŸ’¾"
    "ðŸ’¿" "ðŸ“€" "ðŸ§®" "ðŸ“±" "ðŸ“¡" "ðŸ”­" "ðŸ”¬" "ðŸ§ª" "ðŸ§¬" "âš—ï¸"
    "ðŸ’Ž" "ðŸ”·" "ðŸ”¶" "ðŸ”¹" "ðŸ”¸" "ðŸ”º" "ðŸ”»" "ðŸ’ " "ðŸ”˜" "âšª"
    "ðŸŸ£" "ðŸ”µ" "ðŸŸ¢" "ðŸŸ¡" "ðŸŸ " "ðŸ”´" "â¬›" "â¬œ" "ðŸŸ¦" "ðŸŸ©"
    "ðŸŸ¨" "ðŸŸ§" "ðŸŸ¥" "ðŸŸª" "ðŸŸ«" "â—¼ï¸" "â—»ï¸" "â—¾" "â—½" "â–ªï¸"
    "â–«ï¸" "ðŸ”³" "ðŸ”²"
    "ðŸŒ±" "ðŸŒ¿" "ðŸ€" "â˜˜ï¸" "ðŸŒ²" "ðŸŒ³" "ðŸŒ´" "ðŸª´" "ðŸŒµ" "ðŸŒ¾"
    "ðŸŒ¸" "ðŸŒº" "ðŸŒ»" "ðŸŒ¼" "ðŸŒ·" "ðŸª»" "ðŸª·" "ðŸŒ¹" "ðŸ’" "ðŸª¨"
    "ðŸªµ" "ðŸƒ" "ðŸ‚" "ðŸ" "ðŸŒŠ" "ðŸ’§" "ðŸ”¥" "â„ï¸" "âš¡" "ðŸŒ€"
    "ðŸŒ" "ðŸŒŽ" "ðŸŒ" "ðŸŒ" "ðŸª" "ðŸŒ™" "ðŸŒ•" "ðŸŒ–" "ðŸŒ—" "ðŸŒ˜"
    "ðŸŒ‘" "ðŸŒ’" "ðŸŒ“" "ðŸŒ”" "â˜„ï¸" "ðŸ’¥" "ðŸŒŒ"
    "ðŸ—ï¸" "ðŸ›ï¸" "ðŸ°" "ðŸ¯" "ðŸ—¼" "ðŸ—½" "ðŸ " "ðŸ¡" "ðŸ¢" "ðŸ¦"
    "ðŸ­" "ðŸª" "ðŸ«" "ðŸ¥" "ðŸ¨" "ðŸ©" "â›ª" "ðŸ•Œ" "ðŸ›•" "ðŸ•"
    "â›©ï¸" "ðŸ•‹" "â›²" "â›º" "ðŸŒ" "ðŸŒƒ" "ðŸŒ„" "ðŸŒ…" "ðŸŒ†" "ðŸŒ‡"
    "ðŸŒ‰" "ðŸŽ¡" "ðŸŽ¢" "ðŸŽ " "â›±ï¸"
    "ðŸš‚" "ðŸšƒ" "ðŸš„" "ðŸš…" "ðŸš†" "ðŸš‡" "ðŸšˆ" "ðŸš‰" "ðŸšŠ" "ðŸš"
    "ðŸšž" "ðŸš‹" "ðŸšŒ" "ðŸš" "ðŸšŽ" "ðŸš" "ðŸš‘" "ðŸš’" "ðŸš“" "ðŸš”"
    "ðŸš•" "ðŸš–" "ðŸš—" "ðŸš˜" "ðŸš™" "ðŸ›»" "ðŸšš" "ðŸš›" "ðŸšœ" "ðŸŽï¸"
    "ðŸï¸" "ðŸ›µ" "ðŸ›º" "ðŸš²" "ðŸ›´" "ðŸ›¹" "ðŸ›¼" "âœˆï¸" "ðŸ›©ï¸" "ðŸ›«"
    "ðŸ›¬" "ðŸª‚" "ðŸš" "ðŸšŸ" "ðŸš " "ðŸš¡" "ðŸ›°ï¸" "ðŸ›¸" "â›µ" "ðŸ›¶"
    "ðŸš¤" "ðŸ›³ï¸" "â›´ï¸" "ðŸ›¥ï¸" "ðŸš¢" "âš“"
    "ðŸ“¦" "ðŸ“«" "ðŸ“¬" "ðŸ“­" "ðŸ“®" "ðŸ—³ï¸" "ðŸ“" "âœï¸" "âœ’ï¸" "ðŸ–‹ï¸"
    "ðŸ–Šï¸" "ðŸ–Œï¸" "ðŸ–ï¸" "ðŸ“" "ðŸ“‚" "ðŸ—‚ï¸" "ðŸ“…" "ðŸ“†" "ðŸ—’ï¸" "ðŸ—“ï¸"
    "ðŸ“‡" "ðŸ“ˆ" "ðŸ“‰" "ðŸ“Š" "ðŸ“‹" "ðŸ“Œ" "ðŸ“" "ðŸ“Ž" "ðŸ–‡ï¸" "ðŸ“"
    "ðŸ“" "âœ‚ï¸" "ðŸ—ƒï¸" "ðŸ—„ï¸" "ðŸ”’" "ðŸ”“" "ðŸ”" "ðŸ”" "ðŸ”‘" "ðŸ—ï¸"
    "ðŸ“”" "ðŸ“•" "ðŸ“–" "ðŸ“—" "ðŸ“˜" "ðŸ“™" "ðŸ“š" "ðŸ““" "ðŸ“’" "ðŸ“ƒ"
    "ðŸ“œ" "ðŸ“„" "ðŸ“°" "ðŸ—žï¸" "ðŸ“‘" "ðŸ”–" "ðŸ·ï¸" "ðŸŽ¬" "ðŸ“·" "ðŸ“¸"
    "ðŸ“¹" "ðŸ“¼" "ðŸ”" "ðŸ”Ž" "ðŸ•¯ï¸" "ðŸ®" "ðŸª”"
    "ðŸŽ¨" "ðŸ–¼ï¸" "ðŸŽ­" "ðŸŽª" "ðŸŽ¤" "ðŸŽ§" "ðŸŽ¼" "ðŸŽµ" "ðŸŽ¶" "ðŸŽ·"
    "ðŸª—" "ðŸŽ¸" "ðŸŽ¹" "ðŸŽº" "ðŸŽ»" "ðŸª•" "ðŸ¥" "ðŸª˜" "ðŸ””" "ðŸ”•"
    "ðŸ“¢" "ðŸ“£" "ðŸŽ™ï¸" "ðŸŽšï¸" "ðŸŽ›ï¸" "ðŸ“»"
    "ðŸŽ¯" "ðŸŽ±" "ðŸŽ³" "ðŸŽ®" "ðŸ•¹ï¸" "ðŸŽ°" "ðŸŽ²" "ðŸ§©" "ðŸ§¸" "ðŸª†"
    "â™Ÿï¸" "ðŸƒ" "ðŸ€„" "ðŸŽ´" "âš½" "âš¾" "ðŸ¥Ž" "ðŸ€" "ðŸ" "ðŸˆ"
    "ðŸ‰" "ðŸŽ¾" "ðŸ¥" "ðŸ" "ðŸ‘" "ðŸ’" "ðŸ¥" "ðŸ“" "ðŸ¸" "ðŸ¥Š"
    "ðŸ¥‹" "ðŸ¥…" "â›³" "â›¸ï¸" "ðŸŽ£" "ðŸŽ½" "ðŸŽ¿" "ðŸ›·" "ðŸ¥Œ"
    "ðŸª€" "ðŸª" "ðŸ†" "ðŸ…" "ðŸ¥‡" "ðŸ¥ˆ" "ðŸ¥‰" "ðŸŽ–ï¸" "ðŸŽ—ï¸" "ðŸŽŸï¸"
    "ðŸŽ«"
    "ðŸŽ€" "ðŸŽ" "ðŸŽˆ" "ðŸŽ‰" "ðŸŽŠ" "ðŸŽ‹" "ðŸŽ" "ðŸŽŽ" "ðŸŽ" "ðŸŽ"
    "ðŸŽ‘" "ðŸ§§" "ðŸŽ„" "ðŸŽƒ"
    "â¤ï¸" "ðŸ§¡" "ðŸ’›" "ðŸ’š" "ðŸ’™" "ðŸ’œ" "ðŸ–¤" "ðŸ¤" "ðŸ¤Ž" "ðŸ’•"
    "ðŸ’ž" "ðŸ’“" "ðŸ’—" "ðŸ’–" "ðŸ’˜" "ðŸ’" "ðŸ’Ÿ" "â£ï¸" "â™¥ï¸"
    "â˜®ï¸" "âœï¸" "â˜ªï¸" "ðŸ•‰ï¸" "â˜¸ï¸" "âœ¡ï¸" "ðŸ”¯" "ðŸ•Ž" "â˜¯ï¸" "â˜¦ï¸"
    "ðŸ›" "â›Ž" "â™ˆ" "â™‰" "â™Š" "â™‹" "â™Œ" "â™" "â™Ž" "â™"
    "â™" "â™‘" "â™’" "â™“" "âš›ï¸" "ðŸ”€" "ðŸ”" "ðŸ”‚" "ðŸ”„" "ðŸ”ƒ"
    "â–¶ï¸" "â©" "â­ï¸" "â¯ï¸" "â—€ï¸" "âª" "â®ï¸" "ðŸ”¼" "â«" "ðŸ”½"
    "â¬" "â¸ï¸" "â¹ï¸" "âºï¸" "âï¸" "ðŸŽ¦" "ðŸ“¶" "ðŸ“³" "ðŸ“´"
    "âœ–ï¸" "âž•" "âž–" "âž—" "â™¾ï¸" "â€¼ï¸" "â‰ï¸" "â“" "â”"
    "â•" "â—" "ã€°ï¸" "ðŸ’±" "ðŸ’²" "âš•ï¸" "â™»ï¸" "âšœï¸" "ðŸ”±" "ðŸ“›"
    "ðŸ”°" "â­•" "âœ…" "â˜‘ï¸" "âœ”ï¸" "âŒ" "âŽ" "âž°" "âž¿" "ã€½ï¸"
    "âœ³ï¸" "âœ´ï¸" "â‡ï¸" "Â©ï¸" "Â®ï¸" "â„¢ï¸"
)

EMOJI_COUNT=${#EMOJIS[@]}
echo "Loaded $EMOJI_COUNT unique emojis"
echo ""

# Get all tracked files
FILES=$(git ls-files)
FILE_COUNT=$(echo "$FILES" | wc -l)

echo "ðŸ“ Files to process: $FILE_COUNT"
echo ""

if [ "$FILE_COUNT" -gt "$EMOJI_COUNT" ]; then
    echo "âš ï¸  Warning: More files ($FILE_COUNT) than unique emojis ($EMOJI_COUNT)"
    echo "    Some emojis will repeat after $EMOJI_COUNT files"
    echo ""
fi

echo "ðŸŽ¯ Creating commits (each file will be modified)..."
echo "===================================================="
echo ""

INDEX=0
while IFS= read -r file; do
    if [ -z "$file" ]; then
        continue
    fi
    
    EMOJI="${EMOJIS[$INDEX % $EMOJI_COUNT]}"
    FILENAME=$(basename "$file")
    
    # Add a newline to the file to register a change
    echo "" >> "$file"
    
    # Stage and commit
    git add "$file"
    git commit -m "$EMOJI $FILENAME" --quiet 2>/dev/null || true
    
    printf "[%d/%d] %s %s\n" "$((INDEX + 1))" "$FILE_COUNT" "$EMOJI" "$file"
    
    ((INDEX++))
done <<< "$FILES"

echo ""
echo "âœ… SUCCESS! $INDEX emoji commits created."
echo ""
echo "Each file now has a unique emoji in GitHub's file browser!"
echo "Push with: git push origin main"
echo ""

